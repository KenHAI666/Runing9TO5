<!DOCTYPE html>
<html lang="zh-Hant">
  {% include head.html %}

  <body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PNKDN6F6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <!-- å°è¦½åˆ— -->
    <header>
      <nav class="fixed-nav">
        <a href="/" class="logo">Kå”ï½œä¸æƒ³ä¸Šç­çš„è²“</a>

        <!-- æ¼¢å ¡æŒ‰éˆ•ï¼ˆæ‰‹æ©Ÿç”¨ï¼‰ -->
        <div class="hamburger" id="hamburger">
          <div></div>
          <div></div>
          <div></div>
        </div>

        <!-- å°è¦½é€£çµ -->
        <div class="nav-links" id="navLinks">
          <a href="/index">é¦–é </a>
          <a href="/articles">æœ€æ–°æ–‡ç« </a>
          <a href="/resources">æ›´å¤šè³‡æº</a>
          <a href="/contact">è¯çµ¡æˆ‘</a>
        </div>
      </nav>
    </header>

    <!-- å°è¦½åˆ—é–“è· -->
    <div style="height:70px;"></div>

    <!-- æ–‡ç«  / é é¢å…§å®¹ -->
    <main>
      {{ content }}
      <main>
  {% if page.categories %}
  <!-- åˆ†éš”ç·šï¼ˆå¡ç‰‡å€å¤–ï¼‰ -->
  <hr style="border: none; border-top: 1px solid #ddd; margin: 40px 0;">

  <!-- å¡ç‰‡å€ -->
  <section class="card-section" style="background:#f7f7f7; padding:20px; text-align:center;">
    
    <!-- è¨‚é–±æŒ‰éˆ• -->
    <a href="/#subscribe" class="btn-external" style="margin-bottom:30px;">ğŸ‘‰ ç¾åœ¨å°±è¨‚é–±å…è²»é›»å­å ±</a>

    <!-- ç›¸é—œæ–‡ç«  -->
    <h3 style="margin-bottom:15px;">ç›¸é—œæ–‡ç« </h3>
    <div style="display:flex; flex-wrap:wrap; gap:15px; margin-bottom:30px;">
      {% assign related_posts = site.posts | where_exp:"p","p.categories contains page.categories[0]" %}
      {% for post in related_posts limit:3 %}
        {% if post.url != page.url %}
          <a href="{{ post.url | relative_url }}" style="flex:1 1 30%; background:#fff; padding:10px; border-radius:8px; box-shadow:0 1px 4px rgba(0,0,0,0.1); text-decoration:none; color:#333;">
            <h4 style="margin:0 0 5px 0; font-size:14px;">{{ post.title }}</h4>
            <p style="margin:0; font-size:12px; color:#666;">{{ post.date | date: "%Y-%m-%d" }}</p>
          </a>
        {% endif %}
      {% endfor %}
    </div>

    <!-- æœ€æ–°æ–‡ç«  -->
    <h3 style="margin-bottom:15px;">æœ€æ–°æ–‡ç« </h3>
    <div style="display:flex; flex-wrap:wrap; gap:15px;">
      {% assign sorted_posts = site.posts | sort: 'date' | reverse %}
      {% for post in sorted_posts limit:3 %}
        {% if post.url != page.url %}
          <a href="{{ post.url | relative_url }}" style="flex:1 1 30%; background:#fff; padding:10px; border-radius:8px; box-shadow:0 1px 4px rgba(0,0,0,0.1); text-decoration:none; color:#333;">
            <h4 style="margin:0 0 5px 0; font-size:14px;">{{ post.title }}</h4>
            <p style="margin:0; font-size:12px; color:#666;">{{ post.date | date: "%Y-%m-%d" }}</p>
          </a>
        {% endif %}
      {% endfor %}
    </div>

  </section>
  {% endif %}
</main>

    </main>

    <!-- å›é ‚ç«¯æŒ‰éˆ• -->
    <button id="backToTop">â¬†</button>

    <!-- JS åŠŸèƒ½ -->
<script>
      // å›åˆ°é ‚ç«¯æŒ‰éˆ•
      const backToTopBtn = document.getElementById("backToTop");

      window.onscroll = function () {
        if (
          document.body.scrollTop > 200 ||
          document.documentElement.scrollTop > 200
        ) {
          backToTopBtn.style.display = "block";
        } else {
          backToTopBtn.style.display = "none";
        }
      };

      backToTopBtn.addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
</script>     
<script>
  const hamburger = document.getElementById("hamburger");
  const navLinks = document.getElementById("navLinks");

  // é»æ“Šæ¼¢å ¡ â†’ é–‹é—œ menu
  hamburger.addEventListener("click", () => {
    navLinks.classList.toggle("active");
  });

  // é»æ“Šé¸å–®å¾Œè‡ªå‹•æ”¶èµ·
  document.querySelectorAll("#navLinks a").forEach(link => {
    link.addEventListener("click", () => {
      navLinks.classList.remove("active");
    });
  });
</script>

  </body>
</html>
